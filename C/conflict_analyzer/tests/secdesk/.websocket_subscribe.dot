digraph "CFG for 'websocket_subscribe' function" {
	label="CFG for 'websocket_subscribe' function";

	Node0x556851ed5970 [shape=record,label="{%1:\l  %2 = alloca i64, align 8\l  %3 = alloca %struct.websocket_sub_data_s*, align 8\l  %4 = alloca %struct.websocket_sub_data_s, align 8\l  %5 = alloca void (%struct.fio_msg_s*)*, align 8\l  %6 = alloca i64, align 8\l  %7 = alloca %struct.subscription_s*, align 8\l  %8 = alloca %struct.subscribe_args_s, align 8\l  %9 = alloca %struct.fio_ls_s*, align 8\l  call void @llvm.dbg.declare(metadata %struct.websocket_subscribe_s* %0,\l... metadata !2819, metadata !DIExpression()), !dbg !2820\l  %10 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 0, !dbg !2821\l  %11 = load %struct.ws_s*, %struct.ws_s** %10, align 8, !dbg !2821\l  %12 = icmp ne %struct.ws_s* %11, null, !dbg !2823\l  br i1 %12, label %13, label %20, !dbg !2824\l|{<s0>T|<s1>F}}"];
	Node0x556851ed5970:s0 -> Node0x556851ed5ac0;
	Node0x556851ed5970:s1 -> Node0x556851ed5b10;
	Node0x556851ed5ac0 [shape=record,label="{%13:\l13:                                               \l  %14 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 0, !dbg !2825\l  %15 = load %struct.ws_s*, %struct.ws_s** %14, align 8, !dbg !2825\l  %16 = getelementptr inbounds %struct.ws_s, %struct.ws_s* %15, i32 0, i32 1,\l... !dbg !2826\l  %17 = load i64, i64* %16, align 8, !dbg !2826\l  %18 = call i32 @fio_is_valid(i64 %17), !dbg !2827\l  %19 = icmp ne i32 %18, 0, !dbg !2827\l  br i1 %19, label %21, label %20, !dbg !2828\l|{<s0>T|<s1>F}}"];
	Node0x556851ed5ac0:s0 -> Node0x556851ed5b60;
	Node0x556851ed5ac0:s1 -> Node0x556851ed5b10;
	Node0x556851ed5b10 [shape=record,label="{%20:\l20:                                               \l  br label %116, !dbg !2829\l}"];
	Node0x556851ed5b10 -> Node0x556851ed60b0;
	Node0x556851ed5b60 [shape=record,label="{%21:\l21:                                               \l  call void @llvm.dbg.declare(metadata %struct.websocket_sub_data_s** %3,\l... metadata !2830, metadata !DIExpression()), !dbg !2838\l  %22 = call noalias i8* @malloc(i64 24) #9, !dbg !2839\l  %23 = bitcast i8* %22 to %struct.websocket_sub_data_s*, !dbg !2839\l  store %struct.websocket_sub_data_s* %23, %struct.websocket_sub_data_s** %3,\l... align 8, !dbg !2838\l  %24 = load %struct.websocket_sub_data_s*, %struct.websocket_sub_data_s** %3,\l... align 8, !dbg !2840\l  %25 = icmp ne %struct.websocket_sub_data_s* %24, null, !dbg !2840\l  br i1 %25, label %36, label %26, !dbg !2842\l|{<s0>T|<s1>F}}"];
	Node0x556851ed5b60:s0 -> Node0x556851ed5d40;
	Node0x556851ed5b60:s1 -> Node0x556851ed5bb0;
	Node0x556851ed5bb0 [shape=record,label="{%26:\l26:                                               \l  br label %27, !dbg !2843\l}"];
	Node0x556851ed5bb0 -> Node0x556851ed5c00;
	Node0x556851ed5c00 [shape=record,label="{%27:\l27:                                               \l  %28 = load i32, i32* @FIO_LOG_LEVEL, align 4, !dbg !2845\l  %29 = icmp sle i32 1, %28, !dbg !2845\l  br i1 %29, label %30, label %31, !dbg !2848\l|{<s0>T|<s1>F}}"];
	Node0x556851ed5c00:s0 -> Node0x556851ed5c50;
	Node0x556851ed5c00:s1 -> Node0x556851ed5ca0;
	Node0x556851ed5c50 [shape=record,label="{%30:\l30:                                               \l  call void (i8*, ...) @FIO_LOG2STDERR(i8* getelementptr inbounds ([74 x i8],\l... [74 x i8]* @.str.3.1893, i64 0, i64 0)), !dbg !2849\l  br label %31, !dbg !2849\l}"];
	Node0x556851ed5c50 -> Node0x556851ed5ca0;
	Node0x556851ed5ca0 [shape=record,label="{%31:\l31:                                               \l  br label %32, !dbg !2848\l}"];
	Node0x556851ed5ca0 -> Node0x556851ed5cf0;
	Node0x556851ed5cf0 [shape=record,label="{%32:\l32:                                               \l  %33 = call i32 @kill(i32 0, i32 2) #9, !dbg !2843\l  %34 = call i32* @__errno_location() #10, !dbg !2843\l  %35 = load i32, i32* %34, align 4, !dbg !2843\l  call void @exit(i32 %35) #11, !dbg !2843\l  unreachable, !dbg !2843\l}"];
	Node0x556851ed5d40 [shape=record,label="{%36:\l36:                                               \l  %37 = load %struct.websocket_sub_data_s*, %struct.websocket_sub_data_s** %3,\l... align 8, !dbg !2851\l  %38 = getelementptr inbounds %struct.websocket_sub_data_s,\l... %struct.websocket_sub_data_s* %4, i32 0, i32 0, !dbg !2852\l  %39 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 2, !dbg !2853\l  %40 = load void (%struct.ws_s*, %struct.fio_str_info_s*,\l... %struct.fio_str_info_s*, i8*)*, void (%struct.ws_s*, %struct.fio_str_info_s*,\l... %struct.fio_str_info_s*, i8*)** %39, align 8, !dbg !2853\l  store void (%struct.ws_s*, %struct.fio_str_info_s*, %struct.fio_str_info_s*,\l... i8*)* %40, void (%struct.ws_s*, %struct.fio_str_info_s*,\l... %struct.fio_str_info_s*, i8*)** %38, align 8, !dbg !2852\l  %41 = getelementptr inbounds %struct.websocket_sub_data_s,\l... %struct.websocket_sub_data_s* %4, i32 0, i32 1, !dbg !2852\l  %42 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 3, !dbg !2854\l  %43 = load void (i8*)*, void (i8*)** %42, align 8, !dbg !2854\l  store void (i8*)* %43, void (i8*)** %41, align 8, !dbg !2852\l  %44 = getelementptr inbounds %struct.websocket_sub_data_s,\l... %struct.websocket_sub_data_s* %4, i32 0, i32 2, !dbg !2852\l  %45 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 4, !dbg !2855\l  %46 = load i8*, i8** %45, align 8, !dbg !2855\l  store i8* %46, i8** %44, align 8, !dbg !2852\l  %47 = bitcast %struct.websocket_sub_data_s* %37 to i8*, !dbg !2856\l  %48 = bitcast %struct.websocket_sub_data_s* %4 to i8*, !dbg !2856\l  call void @llvm.memcpy.p0i8.p0i8.i64(i8* align 8 %47, i8* align 8 %48, i64\l... 24, i1 false), !dbg !2856\l  call void @llvm.dbg.declare(metadata void (%struct.fio_msg_s*)** %5,\l... metadata !2857, metadata !DIExpression()), !dbg !2871\l  store void (%struct.fio_msg_s*)* @websocket_on_pubsub_message, void\l... (%struct.fio_msg_s*)** %5, align 8, !dbg !2871\l  %49 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 2, !dbg !2872\l  %50 = load void (%struct.ws_s*, %struct.fio_str_info_s*,\l... %struct.fio_str_info_s*, i8*)*, void (%struct.ws_s*, %struct.fio_str_info_s*,\l... %struct.fio_str_info_s*, i8*)** %49, align 8, !dbg !2872\l  %51 = icmp ne void (%struct.ws_s*, %struct.fio_str_info_s*,\l... %struct.fio_str_info_s*, i8*)* %50, null, !dbg !2874\l  br i1 %51, label %75, label %52, !dbg !2875\l|{<s0>T|<s1>F}}"];
	Node0x556851ed5d40:s0 -> Node0x556851ed5fc0;
	Node0x556851ed5d40:s1 -> Node0x556851ed5d90;
	Node0x556851ed5d90 [shape=record,label="{%52:\l52:                                               \l  call void @llvm.dbg.declare(metadata i64* %6, metadata !2876, metadata\l... !DIExpression()), !dbg !2878\l  %53 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 6, !dbg !2879\l  %54 = load i8, i8* %53, align 8, !dbg !2879\l  %55 = and i8 %54, 1, !dbg !2879\l  %56 = zext i8 %55 to i32, !dbg !2879\l  %57 = icmp ne i32 %56, 0, !dbg !2881\l  br i1 %57, label %58, label %59, !dbg !2882\l|{<s0>T|<s1>F}}"];
	Node0x556851ed5d90:s0 -> Node0x556851ed5de0;
	Node0x556851ed5d90:s1 -> Node0x556851ed5e30;
	Node0x556851ed5de0 [shape=record,label="{%58:\l58:                                               \l  store i64 -34, i64* %6, align 8, !dbg !2883\l  store void (%struct.fio_msg_s*)* @websocket_on_pubsub_message_direct_bin,\l... void (%struct.fio_msg_s*)** %5, align 8, !dbg !2885\l  br label %69, !dbg !2886\l}"];
	Node0x556851ed5de0 -> Node0x556851ed5f70;
	Node0x556851ed5e30 [shape=record,label="{%59:\l59:                                               \l  %60 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 6, !dbg !2887\l  %61 = load i8, i8* %60, align 8, !dbg !2887\l  %62 = lshr i8 %61, 1, !dbg !2887\l  %63 = and i8 %62, 1, !dbg !2887\l  %64 = zext i8 %63 to i32, !dbg !2887\l  %65 = icmp ne i32 %64, 0, !dbg !2889\l  br i1 %65, label %66, label %67, !dbg !2890\l|{<s0>T|<s1>F}}"];
	Node0x556851ed5e30:s0 -> Node0x556851ed5e80;
	Node0x556851ed5e30:s1 -> Node0x556851ed5ed0;
	Node0x556851ed5e80 [shape=record,label="{%66:\l66:                                               \l  store i64 -33, i64* %6, align 8, !dbg !2891\l  store void (%struct.fio_msg_s*)* @websocket_on_pubsub_message_direct_txt,\l... void (%struct.fio_msg_s*)** %5, align 8, !dbg !2893\l  br label %68, !dbg !2894\l}"];
	Node0x556851ed5e80 -> Node0x556851ed5f20;
	Node0x556851ed5ed0 [shape=record,label="{%67:\l67:                                               \l  store i64 -32, i64* %6, align 8, !dbg !2895\l  store void (%struct.fio_msg_s*)* @websocket_on_pubsub_message_direct, void\l... (%struct.fio_msg_s*)** %5, align 8, !dbg !2897\l  br label %68\l}"];
	Node0x556851ed5ed0 -> Node0x556851ed5f20;
	Node0x556851ed5f20 [shape=record,label="{%68:\l68:                                               \l  br label %69\l}"];
	Node0x556851ed5f20 -> Node0x556851ed5f70;
	Node0x556851ed5f70 [shape=record,label="{%69:\l69:                                               \l  %70 = load i64, i64* %6, align 8, !dbg !2898\l  call void @websocket_optimize4broadcasts(i64 %70, i32 1), !dbg !2899\l  %71 = load i64, i64* %6, align 8, !dbg !2900\l  %72 = inttoptr i64 %71 to void (%struct.ws_s*, %struct.fio_str_info_s*,\l... %struct.fio_str_info_s*, i8*)*, !dbg !2901\l  %73 = load %struct.websocket_sub_data_s*, %struct.websocket_sub_data_s** %3,\l... align 8, !dbg !2902\l  %74 = getelementptr inbounds %struct.websocket_sub_data_s,\l... %struct.websocket_sub_data_s* %73, i32 0, i32 0, !dbg !2903\l  store void (%struct.ws_s*, %struct.fio_str_info_s*, %struct.fio_str_info_s*,\l... i8*)* %72, void (%struct.ws_s*, %struct.fio_str_info_s*,\l... %struct.fio_str_info_s*, i8*)** %74, align 8, !dbg !2904\l  br label %75, !dbg !2905\l}"];
	Node0x556851ed5f70 -> Node0x556851ed5fc0;
	Node0x556851ed5fc0 [shape=record,label="{%75:\l75:                                               \l  call void @llvm.dbg.declare(metadata %struct.subscription_s** %7, metadata\l... !2906, metadata !DIExpression()), !dbg !2907\l  %76 = getelementptr inbounds %struct.subscribe_args_s,\l... %struct.subscribe_args_s* %8, i32 0, i32 0, !dbg !2908\l  store i32 0, i32* %76, align 8, !dbg !2908\l  %77 = getelementptr inbounds %struct.subscribe_args_s,\l... %struct.subscribe_args_s* %8, i32 0, i32 1, !dbg !2908\l  %78 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 1, !dbg !2908\l  %79 = bitcast %struct.fio_str_info_s* %77 to i8*, !dbg !2908\l  %80 = bitcast %struct.fio_str_info_s* %78 to i8*, !dbg !2908\l  call void @llvm.memcpy.p0i8.p0i8.i64(i8* align 8 %79, i8* align 8 %80, i64\l... 24, i1 false), !dbg !2908\l  %81 = getelementptr inbounds %struct.subscribe_args_s,\l... %struct.subscribe_args_s* %8, i32 0, i32 2, !dbg !2908\l  %82 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 5, !dbg !2908\l  %83 = load i32 (%struct.fio_str_info_s*, %struct.fio_str_info_s*)*, i32\l... (%struct.fio_str_info_s*, %struct.fio_str_info_s*)** %82, align 8, !dbg !2908\l  store i32 (%struct.fio_str_info_s*, %struct.fio_str_info_s*)* %83, i32\l... (%struct.fio_str_info_s*, %struct.fio_str_info_s*)** %81, align 8, !dbg !2908\l  %84 = getelementptr inbounds %struct.subscribe_args_s,\l... %struct.subscribe_args_s* %8, i32 0, i32 3, !dbg !2908\l  %85 = load void (%struct.fio_msg_s*)*, void (%struct.fio_msg_s*)** %5, align\l... 8, !dbg !2908\l  store void (%struct.fio_msg_s*)* %85, void (%struct.fio_msg_s*)** %84, align\l... 8, !dbg !2908\l  %86 = getelementptr inbounds %struct.subscribe_args_s,\l... %struct.subscribe_args_s* %8, i32 0, i32 4, !dbg !2908\l  store void (i8*, i8*)* @websocket_on_unsubscribe, void (i8*, i8*)** %86,\l... align 8, !dbg !2908\l  %87 = getelementptr inbounds %struct.subscribe_args_s,\l... %struct.subscribe_args_s* %8, i32 0, i32 5, !dbg !2908\l  %88 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 0, !dbg !2908\l  %89 = load %struct.ws_s*, %struct.ws_s** %88, align 8, !dbg !2908\l  %90 = getelementptr inbounds %struct.ws_s, %struct.ws_s* %89, i32 0, i32 1,\l... !dbg !2908\l  %91 = load i64, i64* %90, align 8, !dbg !2908\l  %92 = inttoptr i64 %91 to i8*, !dbg !2908\l  store i8* %92, i8** %87, align 8, !dbg !2908\l  %93 = getelementptr inbounds %struct.subscribe_args_s,\l... %struct.subscribe_args_s* %8, i32 0, i32 6, !dbg !2908\l  %94 = load %struct.websocket_sub_data_s*, %struct.websocket_sub_data_s** %3,\l... align 8, !dbg !2908\l  %95 = bitcast %struct.websocket_sub_data_s* %94 to i8*, !dbg !2908\l  store i8* %95, i8** %93, align 8, !dbg !2908\l  %96 = call %struct.subscription_s* @fio_subscribe(%struct.subscribe_args_s*\l... byval(%struct.subscribe_args_s) align 8 %8), !dbg !2908\l  store %struct.subscription_s* %96, %struct.subscription_s** %7, align 8,\l... !dbg !2907\l  %97 = load %struct.subscription_s*, %struct.subscription_s** %7, align 8,\l... !dbg !2909\l  %98 = icmp ne %struct.subscription_s* %97, null, !dbg !2909\l  br i1 %98, label %100, label %99, !dbg !2911\l|{<s0>T|<s1>F}}"];
	Node0x556851ed5fc0:s0 -> Node0x556851ed6060;
	Node0x556851ed5fc0:s1 -> Node0x556851ed6010;
	Node0x556851ed6010 [shape=record,label="{%99:\l99:                                               \l  store i64 0, i64* %2, align 8, !dbg !2912\l  br label %126, !dbg !2912\l}"];
	Node0x556851ed6010 -> Node0x556851ed61a0;
	Node0x556851ed6060 [shape=record,label="{%100:\l100:                                              \l  call void @llvm.dbg.declare(metadata %struct.fio_ls_s** %9, metadata !2914,\l... metadata !DIExpression()), !dbg !2915\l  %101 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 0, !dbg !2916\l  %102 = load %struct.ws_s*, %struct.ws_s** %101, align 8, !dbg !2916\l  %103 = getelementptr inbounds %struct.ws_s, %struct.ws_s* %102, i32 0, i32\l... 10, !dbg !2917\l  call void @fio_lock.1872(i8* %103), !dbg !2918\l  %104 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 0, !dbg !2919\l  %105 = load %struct.ws_s*, %struct.ws_s** %104, align 8, !dbg !2919\l  %106 = getelementptr inbounds %struct.ws_s, %struct.ws_s* %105, i32 0, i32\l... 9, !dbg !2920\l  %107 = load %struct.subscription_s*, %struct.subscription_s** %7, align 8,\l... !dbg !2921\l  %108 = bitcast %struct.subscription_s* %107 to i8*, !dbg !2921\l  %109 = call %struct.fio_ls_s* @fio_ls_push.1894(%struct.fio_ls_s* %106, i8*\l... %108), !dbg !2922\l  store %struct.fio_ls_s* %109, %struct.fio_ls_s** %9, align 8, !dbg !2923\l  %110 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 0, !dbg !2924\l  %111 = load %struct.ws_s*, %struct.ws_s** %110, align 8, !dbg !2924\l  %112 = getelementptr inbounds %struct.ws_s, %struct.ws_s* %111, i32 0, i32\l... 10, !dbg !2925\l  %113 = call i32 @fio_unlock.1875(i8* %112), !dbg !2926\l  %114 = load %struct.fio_ls_s*, %struct.fio_ls_s** %9, align 8, !dbg !2927\l  %115 = ptrtoint %struct.fio_ls_s* %114 to i64, !dbg !2928\l  store i64 %115, i64* %2, align 8, !dbg !2929\l  br label %126, !dbg !2929\l}"];
	Node0x556851ed6060 -> Node0x556851ed61a0;
	Node0x556851ed60b0 [shape=record,label="{%116:\l116:                                              \l  call void @llvm.dbg.label(metadata !2930), !dbg !2931\l  %117 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 3, !dbg !2932\l  %118 = load void (i8*)*, void (i8*)** %117, align 8, !dbg !2932\l  %119 = icmp ne void (i8*)* %118, null, !dbg !2934\l  br i1 %119, label %120, label %125, !dbg !2935\l|{<s0>T|<s1>F}}"];
	Node0x556851ed60b0:s0 -> Node0x556851ed6100;
	Node0x556851ed60b0:s1 -> Node0x556851ed6150;
	Node0x556851ed6100 [shape=record,label="{%120:\l120:                                              \l  %121 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 3, !dbg !2936\l  %122 = load void (i8*)*, void (i8*)** %121, align 8, !dbg !2936\l  %123 = getelementptr inbounds %struct.websocket_subscribe_s,\l... %struct.websocket_subscribe_s* %0, i32 0, i32 4, !dbg !2937\l  %124 = load i8*, i8** %123, align 8, !dbg !2937\l  call void %122(i8* %124), !dbg !2938\l  br label %125, !dbg !2938\l}"];
	Node0x556851ed6100 -> Node0x556851ed6150;
	Node0x556851ed6150 [shape=record,label="{%125:\l125:                                              \l  store i64 0, i64* %2, align 8, !dbg !2939\l  br label %126, !dbg !2939\l}"];
	Node0x556851ed6150 -> Node0x556851ed61a0;
	Node0x556851ed61a0 [shape=record,label="{%126:\l126:                                              \l  %127 = load i64, i64* %2, align 8, !dbg !2940\l  ret i64 %127, !dbg !2940\l}"];
}
